<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <meta name="citation_title" content="Working with Text Files in Python" />

<meta name="citation_author" content="William J. Turkel" />

<meta name="citation_author" content="Adam Crymble" />

<meta name="citation_publication_date" content="2012-07-17" />
<meta name="citation_journal_title" content="Programming Historian" />
<meta name="citation_public_url" content="http://programminghistorian.org/lessons/working-with-text-files" />


    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width">
    
    <!--Font awesome CDN -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Lato:300,700%7CCrete+Round' rel='stylesheet' type='text/css'>
    <link href="../css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/github.css">
    <link href='../feed.xml.rss' rel='alternate' type='application/atom+xml'>
    <title>Working with Text Files in Python | Programming Historian</title>
        
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../js/ui.js"></script>
    <script type="text/javascript" src="../js/ext_links.js"></script>
    <script type="text/javascript" src="../js/header_links.js"></script>
    <script>
      $(document).ready(function(){
        $('.slide-trigger').collapsable();
      });
    </script>

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2752866-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  </head>



  
  
  

  <body>

    <header role="banner">
    <h1><a href="../index.html">The Programming Historian</a></h1>

	        <div class="additional">
          <ul id="menu-main-menu" class="additional">
            <li class="menu-item"><a href="../index.html">About</a></li>
            <li class="menu-item"><a href="index.html">Lessons</a></li>
            <li class="menu-item"><a href="../contribute.html">Contribute</a></li>
            <li class="menu-item"><a href="../project-team.html">Project Team</a></li>
            <li class="menu-item"><a href="../blog.html">Blog</a></li>
          </ul>
        </div>

	</header>

	<div role="main">
		<article>
			<header>

                
				
			    <p class="kicker">July 17, 2012</p>
				<h1><a href="working-with-text-files.html">Working with Text Files in Python</a></h1>
                <p class="byline">By 
  
        
             
                   William J. Turkel
             
        
             
                   and Adam Crymble
             
        
  
  </p>

				
				
				<ul class="credits">Reviewed by
				
                      
                           
                                 Miriam Posner
                           
                      
                           
                                 and Jim Clifford
                           
                      
                
                <br/>
                
                </ul>
                
				
			</header>

            
            <p><em>Note:</em> You may find it easier to complete this lesson
                if you have already completed the 
                <a href="viewing-html-files.html">previous lesson</a>
                in this series.</p>
            

			<div class="content">
	              <h2 id="lesson-goals">Lesson Goals</h2>

<p>In this lesson you will learn how to manipulate text files using Python.
This includes opening, closing, reading from, and writing to <code class="highlighter-rouge">.txt</code>
files.</p>

<p>The next few lessons will involve downloading a web page from the
Internet and reorganizing the contents into useful chunks of
information. You will be doing most of your work using Python code
written and executed in Komodo Edit.</p>

<h2 id="working-with-text-files">Working with Text Files</h2>

<p>Python makes it easy to work with files and text. Let’s begin with
files.</p>

<h3 id="creating-and-writing-to-a-text-file">Creating and Writing to a Text File</h3>

<p>Let’s start with a brief discussion of terminology. In a previous lesson
(depending on your operating system: <a href="mac-installation.html">Mac Installation</a>, <a href="windows-installation.html">Windows
Installation</a>, or <a href="linux-installation.html">Linux Installation</a>), you saw how to send
information to the “Command Output” window of your text editor by using
Python’s <a href="https://docs.python.org/2/reference/simple_stmts.html#the-print-statement">print</a> command.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="s">'hello world'</span>
</code></pre>
</div>

<p>The Python programming language is <em>object-oriented</em>. That is to say that
it is constructed around a special kind of entity, an <em>object</em>, which
contains both <em>data</em> and a number of <em>methods</em> for accessing and altering
that data. Once an object is created, it can interact with other
objects.</p>

<p>In the example above, we see one kind of object, the <em>string</em> “hello
world”. The string is the sequence of characters enclosed by quotes. You
can write a string one of three ways:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>message1 = 'hello world'
message2 = "hello world"
message3 = """hello
hello
hello world"""
</code></pre>
</div>

<p>The important thing to note is that in the first two examples you can
use single or double quotes / inverted commas, but you cannot mix the
two within one string.</p>

<p>For instance, the following are all wrong:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>message1 = "hello world'
message2 = 'hello world"
message3 = 'I can't eat pickles'
</code></pre>
</div>

<p>Count the number of single quotes in message3. For that to work you
would have to <em>escape</em> the apostrophe:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">message3</span> <span class="o">=</span> <span class="s">'I can</span><span class="se">\'</span><span class="s">t eat pickles'</span>
</code></pre>
</div>

<p>Or, rewrite the phrase as:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">message3</span> <span class="o">=</span> <span class="s">"I can't eat pickles"</span>
</code></pre>
</div>

<p>In the third example, the triple quotes signify a string that covers
more than one line.</p>

<p><code class="highlighter-rouge">Print</code> is a command that prints objects in textual form. The print
command, when combined with the string, produces a <em>statement</em>.</p>

<p>You will use <code class="highlighter-rouge">print</code> like this in cases where you want to create
information that needs to be acted upon right away. Sometimes, however,
you will be creating information that you want to save, to send to
someone else, or to use as input for further processing by another
program or set of programs. In these cases you will want to send
information to files on your hard drive rather than to the “Command
Output” pane. Enter the following program into your text editor and save
it as <code class="highlighter-rouge">file-output.py</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># file-output.py</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'helloworld.txt'</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'hello world'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p>In Python, any line that begins with a hash mark (#) is known as a
<em>comment</em> and is ignored by the Python interpreter. Comments are intended
to allow programmers to communicate with one another (or to remind
themselves of what their code does when they sit down with it a few
months later). In a larger sense, programs themselves are typically
written and formatted in a way that makes it easier for programmers to
communicate with one another. Code that is closer to the requirements of
the machine is referred to as <em>low-level</em>, whereas code that is closer to
natural language is <em>high-level</em>. One of the benefits of using a language
like Python is that it is very high level, making it easier for us to
communicate with you (at some cost in terms of computational
efficiency).</p>

<p>In this program <em>f</em> is a <em>file object</em>, and <code class="highlighter-rouge">open</code>, <code class="highlighter-rouge">write</code> and <code class="highlighter-rouge">close</code> are <em>file
methods</em>. In other words, open, write and close do something to the
object <em>f</em> which is in this case defined as a <code class="highlighter-rouge">.txt</code> file. This is likely
a different use of the term “method” than you might expect and from time
to time you will find that words used in a programming context have
slightly (or completely) different meanings than they do in everyday
speech. In this case recall that methods are bits of code which perform
actions. They do something to something else and return a result. You
might try to think of it using a real-world example such giving commands
to the family dog. The dog (the object) understands commands (i.e., has
“methods”) such as “bark”, “sit”, “play dead”, and so on. We will
discuss and learn how to use many other methods as we go along.</p>

<p><em>f</em> is a variable name chosen by us; you could have named it just about
anything you like. In Python, variable names can be made from upper- and
lowercase letters, numbers and underscores…but you can’t use the names
of Python commands as variables. If you tried to name your file variable
“print” for example, your program would not work because that is a
<a href="http://docs.python.org/release/2.5.4/ref/keywords.html">reserved word</a> that is part of the programming language.</p>

<p>Python variable names are also <em>case-sensitive</em>, which means that
foobar, Foobar and FOOBAR would all be different variables.</p>

<p>When you run this program, the <code class="highlighter-rouge">open</code> method will tell your computer to
create a new text file <code class="highlighter-rouge">helloworld.txt</code> in the same folder as you have
saved the <code class="highlighter-rouge">file-output.py</code> program. The <em>w parameter</em> says that you intend
to write content to this new file using Python.</p>

<p>Note that since both the file name and the parameter are surrounded by
single quotes you know they are both stored as strings; forgetting to
include the quotation marks will cause your program to fail.</p>

<p>On the next line, your program writes the message “hello world” (another
string) to the file and then closes it. (For more information about
these statements, see the section on <a href="https://docs.python.org/2/library/stdtypes.html#bltin-file-objects">File Objects</a> in the Python
Library Reference.)</p>

<p>Double-click on your “Run Python” button in Komodo Edit to execute the
program (or the equivalent in whichever text-editor you have decided to
use: e.g., click on the “#!” and “Run” in TextWrangler). Although nothing
will be printed to the “Command Output” pane, you will see a status
message that says something like</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="sb">`/usr/bin/python file-output.py`</span> <span class="n">returned</span> <span class="mf">0.</span>
</code></pre>
</div>

<p>in Mac or Linux, or</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">'C:</span><span class="err">\</span><span class="s">Python27</span><span class="err">\</span><span class="s">Python.exe file-output.py'</span> <span class="n">returned</span> <span class="mf">0.</span>
</code></pre>
</div>

<p>in Windows.</p>

<p>This means that your program executed successfully. If you use
<em>File -&gt; Open -&gt; File</em> in your Komodo Edit, you can open the file
<code class="highlighter-rouge">helloworld.txt</code>. It should contain your one-line message:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Hello</span> <span class="n">World</span><span class="err">!</span>
</code></pre>
</div>

<p>Since text files include a minimal amount of formatting information,
they tend to be small, easy to exchange between different platforms
(i.e., from Windows to Linux or Mac or vice versa), and easy to send
from one computer program to another. They can usually also be read by
people using a text editor like Komodo Edit.</p>

<h3 id="reading-from-a-text-file">Reading From a Text File</h3>

<p>Python also has methods which allow you to get information from files.
Type the following program into your text editor and save it as
<code class="highlighter-rouge">file-input.py</code>. When you click on “Run” to execute it, it will open the
text file that you just created, read the one-line message from it, and
print the message to the “Command Output” pane.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># file-input.py</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'helloworld.txt'</span><span class="p">,</span><span class="s">'r'</span><span class="p">)</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">message</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p>In this case, the <em>r</em> parameter is used to indicate that you are opening a
file to <code class="highlighter-rouge">read</code> from it. Parameters let you choose among the different
options a particular method allows. Returning to the family dog example,
the dog may be trained to bark once when he gets a beef-flavoured snack
and twice when he gets a chicken-flavoured one. The flavour of the snack
is a parameter. Each method is different in terms of what parameters it
will accept. You cannot, for example, ask the dog to sing an Italian
opera – unless your dog is particularly talented. You can look up the
possible parameters for a particular method on the Python website, or
often you can find them by typing the method into a search engine along
with “Python”.</p>

<p><code class="highlighter-rouge">Read</code> is another file method. The contents of the file (the one-line
message) are copied into <em>message</em>, which is what we’ve decided to call
this string, and then the <code class="highlighter-rouge">print</code> command is used to send the contents of
<em>message</em> to the “Command Output” pane.</p>

<h3 id="appending-to-a-pre-existing-text-file">Appending to a Pre-Existing Text File</h3>

<p>A third option is to open a pre-existing file and add more to it. Note
that if you <code class="highlighter-rouge">open</code> a file and use the <code class="highlighter-rouge">write</code> method, <em>the program will
overwrite whatever might have been contained in the file</em>. This isn’t an
issue when you are creating a new file, or when you want to overwrite
the contents of an existing file, but it might be undesirable when you
are creating a log of events or compiling a large set of data into one
file. So, instead of <code class="highlighter-rouge">write</code> you will want to use the <code class="highlighter-rouge">append</code> method,
designated by <code class="highlighter-rouge">a</code>.</p>

<p>Type the following program into your text editor and save it as
<code class="highlighter-rouge">file-append.py</code>. When you run this program it will open the same
<code class="highlighter-rouge">helloworld.txt</code> file created earlier and append a second “hello world”
to the file. The ‘\n’ stands for new line.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># file-append.py</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'helloworld.txt'</span><span class="p">,</span><span class="s">'a'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="s">'hello world'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p>After you have run the program, open the <code class="highlighter-rouge">helloworld.txt</code> file and see
what happened. Close the text file and re-run <code class="highlighter-rouge">file-append.py</code> a few
more times. When you open <code class="highlighter-rouge">helloworld.txt</code> again you should notice a few
extra ‘hello world’ messages waiting for you.</p>

<p>In the next section, we will discuss modularity and reusing code.</p>

<h2 id="suggested-readings">Suggested Readings</h2>

<ul>
  <li><a href="http://en.wikibooks.org/wiki/Non-Programmer%27s_Tutorial_for_Python_2.6/Hello,_World">Non-Programmer’s Tutorial for Python 2.6/Hello, World</a></li>
</ul>


	        </div>

            
            <p><em>Note:</em> You are now prepared to move on to the 
                <a href="code-reuse-and-modularity.html">next lesson</a>
                in this series.</p>
            

	        <div class="author-info">
	   	        <p class="author-name">About the authors</p>
			    <div class="author-description"><p>
                
                   
                   
                       William J. Turkel is Professor of History at the
University of Western Ontario.
&nbsp;
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
		        
                   
                   
                   
                   
                       Adam Crymble is a Lecturer of Digital History at the University of
Hertfordshire.
&nbsp;
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
		        </p>
			    </div>
	        </div>
          <div class="citation-info">
            <p class="citation-head">Suggested Citation</p>
            <div class="suggested-citation">
              <p>
              
  
        
             
                   William J. Turkel
             
        
             
                   and Adam Crymble
             
        
  
  , 
              "Working with Text Files in Python," 
              <em>Programming Historian</em> 
              (17 July 2012), 
              http://programminghistorian.org/lessons/working-with-text-files
              </p>
            </div>
          </div>
        </article>
    </div>

    </div> <!-- end below-nav -->

<footer role="contentinfo">

          <div class="additional">
          <ul id="menu-main-menu" class="additional">
            <li class="menu-item"><a href="../index.html">About</a></li>
            <li class="menu-item"><a href="index.html">Lessons</a></li>
            <li class="menu-item"><a href="../contribute.html">Contribute</a></li>
            <li class="menu-item"><a href="../project-team.html">Project Team</a></li>
            <li class="menu-item"><a href="../blog.html">Blog</a></li>
          </ul>
        </div>


<p><em>The Programming Historian</em> ISSN 2397-2068, is released under the <a href="http://creativecommons.org/licenses/by/2.0/" rel="license">CC-BY</a> license.</p>
<p>The project is published by the <em>Editorial Board of the Programming Historian</em>, and first appeared in July 2012. It was last updated on 20 March 2016.</p>
<p class="github">
        <a href="https://github.com/programminghistorian/jekyll">Hosted on GitHub <img src="../images/GitHub-Mark-32px.png" title="GitHub logo"></a> 
		<a href="https://github.com/programminghistorian/jekyll/commits/gh-pages/lessons/working-with-text-files.md">Previous Versions</a>&nbsp;&#183;&nbsp;
		<a href="../feedback.html">Give Feedback</a>
</p>

</footer>


    </body>
</html>
